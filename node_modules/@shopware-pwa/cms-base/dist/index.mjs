import { defineNuxtModule } from '@nuxt/kit';
import { resolve } from 'path';



// -- Unbuild CommonJS Shims --
import __cjs_url__ from 'url';
import __cjs_path__ from 'path';
import __cjs_mod__ from 'module';
const __filename = __cjs_url__.fileURLToPath(import.meta.url);
const __dirname = __cjs_path__.dirname(__filename);
const require = __cjs_mod__.createRequire(import.meta.url);
const nuxtModule = defineNuxtModule({
  meta: {
    name: "@shopware/cms-base",
    configKey: "shopware-cms"
  },
  setup(_, nuxt) {
    nuxt.hook("components:dirs", (c) => {
      c.push({
        path: resolve(__dirname, "../components/public"),
        global: true
      });
    });
    nuxt.options.imports.transform = nuxt.options.imports.transform || {};
    nuxt.options.imports.transform.include = nuxt.options.imports.transform?.include || [];
    nuxt.options.imports.transform?.include.push(/.+cms-base.+/);
  }
});

export { nuxtModule as default };
