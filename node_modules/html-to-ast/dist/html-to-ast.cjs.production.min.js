"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g,n=function(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],r.voidElement=e.includes(i[1])||"/"===n.charAt(n.length-2),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),m=[o,""];o.indexOf("=")>-1&&(m=o.split("=")),r.attrs[m[0]]=m[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r},r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e";default:return""}}exports.htmlVoidElements=e,exports.parse=function(e,t){void 0===t&&(t={}),t||(t={}),t.components||(t.components=s);var a,c=[],o=[],m=-1,l=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,(function(r,s){if(l){if(r!=="</"+a.name+">")return"";l=!1}var u,d="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,f=e.charAt(p);if(h){var x=n(r);return m<0?(c.push(x),c):((u=o[m])&&u.children&&Array.isArray(u.children)&&u.children.push(x),c)}if(d&&(m++,"tag"===(a=n(r)).type&&a.name&&t.components&&t.components[a.name]&&(a.type="component",l=!0),!a.voidElement&&!l&&f&&"<"!==f&&Array.isArray(a.children)&&a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===m&&c.push(a),(u=o[m-1])&&u.children&&u.children.push(a),o[m]=a),(!d||a.voidElement)&&(m>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(m--,a=-1===m?c:o[m]),!l&&"<"!==f&&f)){u=-1===m?c:o[m].children;var v=e.indexOf("<",p),g=e.slice(p,-1===v?void 0:v);i.test(g)&&(g=" "),(v>-1&&m+u.length>=0||" "!==g)&&u&&Array.isArray(u)&&u.push({type:"text",content:g})}})),c},exports.stringify=function(e){return e.reduce((function(e,t){return e+a("",t)}),"")};
//# sourceMappingURL=html-to-ast.cjs.production.min.js.map
